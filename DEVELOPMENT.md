# FlexHAL 開発フロー 💻✨

このドキュメントでは、FlexHALプロジェクトの開発手法とワークフローについて説明します。私たちは効率的な開発と高品質なコードを維持するために、AIアシスタントと人間のコラボレーションを最大限に活用した開発フローを採用しています。

## 開発フローの概要 🔄

FlexHALプロジェクトでは、以下の6ステップの開発フローを採用しています：

1. **要件定義書の作成** - AIアシスタントが初期の要件定義書を生成
2. **要件定義書の手直し** - 人間が要件を確認・修正し、最終決定
3. **タスクの分解** - AIアシスタントが実装タスクを細かく分解
4. **GitHub Issuesへの登録** - 分解されたタスクをIssuesとして起票
5. **PRベースの開発** - 各Issueに対応するPRを作成して実装
6. **レビュー** - 人間とAIによるコードレビュー

## 詳細なワークフロー手順 📝

### 1. 要件定義書の作成
- AIアシスタントに「〇〇機能の要件定義書を作成して」と依頼
- 機能の目的、スコープ、制約条件などを明確に伝える
- AIアシスタントは3層構造（プラットフォーム・フレームワーク・RTOS）を考慮した要件定義書を生成

### 2. 要件定義書の手直し
- 生成された要件定義書を人間が確認
- 実際のニーズや技術的制約に基づいて修正
- 最終的な要件定義書をドキュメントとして保存

### 3. タスクの分解
- 確定した要件定義書をもとに、AIアシスタントが実装タスクを分解
- 各タスクには明確な目標、受け入れ基準、依存関係を設定
- タスクの粒度は1-2日程度で完了できる大きさに調整

### 4. GitHub Issuesへの登録
- 分解されたタスクをGitHub Issuesとして登録
- 各Issueには以下の情報を含める：
  - タイトル（簡潔で明確な説明）
  - 詳細な説明（目的、背景、実装方針）
  - 受け入れ基準（完了と見なすための条件）
  - ラベル（関連するレイヤー、優先度など）
  - マイルストーン（リリース計画との関連）

### 5. PRベースの開発
- 各Issueに対応するブランチを作成（例：`feature/issue-123`）
- AIアシスタントに「Issue #123の実装をお願い」と依頼
- 1つのPRは1つのIssueに対応させ、スコープを限定
- コミットメッセージには必ずIssue番号を含める（例：`#123 GPIO機能の実装`）

### 6. レビュー
- PRが作成されたら、人間がコードレビューを実施
- 必要に応じてAIアシスタントにもレビューを依頼
- レビューコメントに基づいて修正を行い、品質を確保
- すべての条件を満たしたらマージを実行

## Issueベースのタスク管理 📊

FlexHALプロジェクトではGitHub Issuesとラベル、マイルストーンを使用して、タスクの進捗管理を行います：

### ラベルによる分類

- **レイヤー別ラベル**
  - `platform`: プラットフォーム層関連
  - `framework`: フレームワーク層関連
  - `rtos`: RTOS層関連

- **タスク種別ラベル**
  - `enhancement`: 機能強化・新機能
  - `bug`: バグ修正
  - `documentation`: ドキュメント関連
  - `refactoring`: リファクタリング

- **状態ラベル**
  - `in progress`: 現在作業中
  - `review needed`: レビュー待ち
  - `blocked`: 作業停止中

### マイルストーンによるグループ化

マイルストーンを使用して、大きな目標やリリース単位でIssueをグループ化します。例えば：

- `v1.0.0`: 最初の安定リリース
- `v1.1.0`: 次期機能追加

### PRとIssueの連携

PRの説明文に「fixes #123」のように記述することで、PRがマージされた時に自動的に関連Issueがクローズされます。

## コーディング規約 🧩

FlexHALプロジェクトでは、以下のコーディング規約に従います：

- コードスタイルは`.clang-format`に従う
- コメントは日本語で記述
- 変数/関数名は英語で記述
- 詳細は[CODING_STYLE.md](./CODING_STYLE.md)を参照

## バージョン管理 🏷️

FlexHALプロジェクトでは、セマンティックバージョニング（MAJOR.MINOR.PATCH）を採用し、Gitのタグとリリースを使用してバージョン管理を行います。

---

このドキュメントは、FlexHALプロジェクトの開発フローの基本となるものです。プロジェクトの進行に合わせて適宜更新していきます。
